<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EnemyProjectile Script - Game Documentation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <h1>ğŸ¯ EnemyProjectile Script</h1>
        <p>DÃ¼ÅŸman Mermi Sistemi</p>
    </header>

    <nav>
        <ul class="nav-links">
            <li><a href="./documentation.html">ğŸ  Ana Sayfa</a></li>
            <li class="dropdown">
                <a href="#">ğŸ‘¤ Player Scripts</a>
                <div class="dropdown-content">
                    <a href="./playerMovement.html">ğŸƒâ€â™‚ï¸ Player Movement</a>
                    <a href="./dashController.html">âš¡ Dash Controller</a>
                    <a href="./groundChecker.html">ğŸŒ Ground Checker</a>
                    <a href="./shootingSystem.html">ğŸ¯ Shooting System</a>
                    <a href="./projectile.html">ğŸ’¨ Projectile</a>
                    <a href="./arrowProjectileStrategy.html">ğŸ¹ Arrow Strategy</a>
                    <a href="./iPlayerInterfaces.html">ğŸ”— Player Interfaces</a>
                </div>
            </li>
            <li class="dropdown">
                <a href="#">ğŸ‘¾ Enemy Scripts</a>
                <div class="dropdown-content">
                    <a href="./baseEnemy.html">ğŸ‘¾ Base Enemy</a>
                    <a href="./enemySpawner.html">ğŸ”„ Enemy Spawner</a>
                    <a href="./enemyFactory.html">ğŸ­ Enemy Factory</a>
                    <a href="./enemyProjectile.html">ğŸ¯ Enemy Projectile</a>
                    <a href="../Enemy/meleeEnemy.html">âš”ï¸ Melee Enemy</a>
                    <a href="../Enemy/rangedEnemy.html">ğŸ¹ Ranged Enemy</a>
                    <a href="../ShootingSystem/meleeAttackStrategy.html">ğŸ—¡ï¸ Melee Strategy</a>
                    <a href="../ShootingSystem/rangedAttackStrategy.html">ğŸ¯ Ranged Strategy</a>
                    <a href="../interFaces/iAttackStrategy.html">ğŸ“‹ Attack Strategy Interface</a>
                    <a href="../interFaces/iEnemy.html">ğŸ“‹ Enemy Interface</a>
                </div>
            </li>
        </ul>
    </nav>

    <main>
        <section class="script-section">
            <div class="script-header">
                <h2>ğŸ¯ EnemyProjectile.cs</h2>
                <div class="tags">
                    <span class="tag">ğŸ¯ Projectile</span>
                    <span class="tag">ğŸ’¥ Damage</span>
                    <span class="tag">âš”ï¸ Combat</span>
                </div>
            </div>

            <div class="code-block">
                <button class="copy-button">Copy</button>
                <pre><code class="language-csharp">
[RequireComponent(typeof(Rigidbody))]
public class EnemyProjectile : MonoBehaviour
{
    [Header("Projectile Settings")]
    [SerializeField] private float damage = 10f;
    [SerializeField] private float lifeTime = 5f;
    [SerializeField] private float arcHeight = 2f;
    [SerializeField] private bool rotateTowardsVelocity = true;
    [SerializeField] private float rotationSpeed = 15f;

    private Vector3 startPosition;
    private Vector3 targetPosition;
    private float totalTime;
    private float elapsedTime;
    private Rigidbody rb;
    private bool isInitialized = false;
    private float projectileSpeed;

    private void Awake()
    {
        rb = GetComponent<Rigidbody>();
        rb.useGravity = false;
        rb.isKinematic = true;
        rb.interpolation = RigidbodyInterpolation.Interpolate;
    }

    private void Start()
    {
        Destroy(gameObject, lifeTime);
    }

    public void Initialize(Vector3 target, float speed)
    {
        startPosition = transform.position;
        targetPosition = target;
        projectileSpeed = speed;

        float distance = Vector3.Distance(startPosition, targetPosition);
        totalTime = distance / speed;
        elapsedTime = 0f;

        isInitialized = true;
    }

    private void Update()
    {
        if (!isInitialized) return;

        elapsedTime += Time.deltaTime;
        float normalizedTime = elapsedTime / totalTime;

        if (normalizedTime >= 1f)
        {
            Destroy(gameObject);
            return;
        }

        Vector3 currentPosition = Vector3.Lerp(startPosition, targetPosition, normalizedTime);
        float height = Mathf.Sin(normalizedTime * Mathf.PI) * arcHeight;
        currentPosition.y += height;

        transform.position = currentPosition;

        if (rotateTowardsVelocity)
        {
            Vector3 moveDirection;
            if (normalizedTime < 1f)
            {
                Vector3 nextPosition = Vector3.Lerp(startPosition, targetPosition, Mathf.Min(1f, normalizedTime + 0.1f));
                nextPosition.y += Mathf.Sin((normalizedTime + 0.1f) * Mathf.PI) * arcHeight;
                moveDirection = (nextPosition - transform.position).normalized;
            }
            else
            {
                moveDirection = (targetPosition - transform.position).normalized;
            }

            if (moveDirection != Vector3.zero)
            {
                Quaternion targetRotation = Quaternion.LookRotation(moveDirection);
                transform.rotation = Quaternion.Slerp(transform.rotation, targetRotation, rotationSpeed * Time.deltaTime);
            }
        }
    }

    private void OnTriggerEnter(Collider other)
    {
        IHealth health = other.GetComponent<IHealth>();
        if (health != null)
        {
            health.TakeDamage(damage);
            Destroy(gameObject);
        }
        else if (!other.CompareTag("Enemy") && !other.CompareTag("Projectile"))
        {
            Destroy(gameObject);
        }
    }
}</code></pre>
            </div>

            <div class="explanation-block">
                <h3>ğŸ“ SÄ±nÄ±f AÃ§Ä±klamasÄ±</h3>
                <ul>
                    <li>ğŸ¯ <strong>Temel AmaÃ§:</strong> DÃ¼ÅŸmanlarÄ±n fÄ±rlattÄ±ÄŸÄ± mermilerin parabolik hareket ve rotasyon davranÄ±ÅŸlarÄ±nÄ± yÃ¶netir</li>
                    <li>ğŸ”§ <strong>Ã–zellikler:</strong>
                        <ul>
                            <li>Parabolik hareket sistemi</li>
                            <li>YumuÅŸak rotasyon kontrolÃ¼</li>
                            <li>Fizik tabanlÄ± Ã§arpÄ±ÅŸma sistemi</li>
                            <li>Otomatik temizleme mekanizmasÄ±</li>
                        </ul>
                    </li>
                </ul>

                <div class="method-item">
                    <h4>âš™ï¸ Temel Ã–zellikler</h4>
                    <ul>
                        <li><strong>Mermi AyarlarÄ±:</strong>
                            <ul>
                                <li>damage: Verilen hasar miktarÄ± (10)</li>
                                <li>lifeTime: Mermi Ã¶mrÃ¼ (5 saniye)</li>
                                <li>arcHeight: Parabolik yÃ¼kseklik (2)</li>
                                <li>rotateTowardsVelocity: Hareket yÃ¶nÃ¼ne dÃ¶nme</li>
                                <li>rotationSpeed: DÃ¶nÃ¼ÅŸ hÄ±zÄ± (15)</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="method-item">
                    <h4>ğŸ”„ Ã–nemli Metodlar</h4>
                    <ul>
                        <li><strong>Initialize:</strong>
                            <ul>
                                <li>BaÅŸlangÄ±Ã§ ve hedef pozisyonlarÄ±nÄ± ayarlama</li>
                                <li>Hareket hÄ±zÄ±nÄ± belirleme</li>
                                <li>Toplam hareket sÃ¼resini hesaplama</li>
                            </ul>
                        </li>
                        <li><strong>Update:</strong>
                            <ul>
                                <li>Parabolik hareket hesaplama</li>
                                <li>YÃ¼kseklik deÄŸiÅŸimi kontrolÃ¼</li>
                                <li>Rotasyon yÃ¶netimi</li>
                                <li>Pozisyon gÃ¼ncelleme</li>
                            </ul>
                        </li>
                        <li><strong>OnTriggerEnter:</strong>
                            <ul>
                                <li>Hasar verme kontrolÃ¼</li>
                                <li>Ã‡arpÄ±ÅŸma yÃ¶netimi</li>
                                <li>Otomatik yok olma</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="implementation-notes">
                    <h4>ğŸ’¡ Uygulama NotlarÄ±</h4>
                    <ul>
                        <li><strong>Hareket Sistemi:</strong>
                            <ul>
                                <li>Lerp ile yumuÅŸak hareket</li>
                                <li>SinÃ¼s fonksiyonu ile parabolik yÃ¶rÃ¼nge</li>
                                <li>Hareket yÃ¶nÃ¼ne gÃ¶re otomatik rotasyon</li>
                            </ul>
                        </li>
                        <li><strong>Fizik Sistemi:</strong>
                            <ul>
                                <li>Kinematik Rigidbody kullanÄ±mÄ±</li>
                                <li>Trigger bazlÄ± Ã§arpÄ±ÅŸma tespiti</li>
                                <li>Otomatik temizleme mekanizmasÄ±</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="unity-setup">
                    <h4>ğŸ® Unity EditÃ¶r AyarlarÄ±</h4>
                    <ul>
                        <li><strong>Gerekli BileÅŸenler:</strong>
                            <ul>
                                <li>Rigidbody (otomatik eklenir)</li>
                                <li>Sphere/Box Collider</li>
                                <li>Uygun materyal ve mesh</li>
                            </ul>
                        </li>
                        <li><strong>AyarlanmasÄ± Gerekenler:</strong>
                            <ul>
                                <li>Damage deÄŸeri (varsayÄ±lan: 10)</li>
                                <li>Lifetime deÄŸeri (varsayÄ±lan: 5)</li>
                                <li>Rigidbody ayarlarÄ± (kÃ¼tle, sÃ¼rtÃ¼nme, vs.)</li>
                                <li>Layer ve Tag ayarlarÄ±</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-csharp.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.copy-button').forEach(button => {
                button.addEventListener('click', function() {
                    const codeBlock = this.nextElementSibling.querySelector('code');
                    navigator.clipboard.writeText(codeBlock.textContent);
                    
                    const originalText = this.textContent;
                    this.textContent = 'Copied!';
                    setTimeout(() => {
                        this.textContent = originalText;
                    }, 2000);
                });
            });
        });
    </script>
</body>
</html> 